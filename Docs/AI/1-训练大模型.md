# è®­ç»ƒå¤§æ¨¡å‹

## é…ç½®Ubuntué•œåƒæº

### è®¾ç½®é•œåƒæº

#### å¤‡ä»½é•œåƒæº

```bash
sudo cp /etc/apt/sources.list /etc/apt/sources.list.back
```

#### ç¼–è¾‘é•œåƒæº

```bash
sudo vim /etc/apt/sources.list
```

**é•œåƒæºé…ç½®**

```shell
deb https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse

deb https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse

deb https://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse

# deb https://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse
# deb-src https://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse

deb https://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
deb-src https://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse
```

#### æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨

```bash
# é¦–å…ˆæ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨
sudo apt update

# å‡çº§å·²å®‰è£…çš„è½¯ä»¶åŒ…
sudo apt upgrade

# å¦‚æœéœ€è¦å®Œæ•´å‡çº§
sudo apt full-upgrade
```

## æ­å»º`Ollama`

### å®‰è£…AIç›¸å…³

è™šæ‹Ÿæœºå®‰è£…å¦‚æœéœ€è¦GPUå°†ä¼šå˜å¾—å¾ˆå›°éš¾ï¼Œå› ä¸ºGPUè®¾è®¡çš„æ—¶å€™æ²¡æœ‰è€ƒè™‘åˆ°å…±äº«çš„å¯èƒ½æ€§ï¼Œæ‰€ä»¥æ— è®ºä½¿ç”¨`Hyper-V`è¿˜æ˜¯`VM`éƒ½éœ€è¦ä¸€å®šçš„æ“ä½œæ­¥éª¤ï¼Œä½†æ˜¯æƒ³ä½“éªŒåŸç”Ÿçš„Linuxå¸¦æ¥çš„æ•ˆæœå’Œå‘½ä»¤è¡Œè€Œä¸”è¿˜æƒ³ç”¨GPUï¼Œæ¨èä½¿ç”¨Windowsè‡ªå¸¦çš„`WSL`ã€‚

ä½¿ç”¨`WSL`ç›´æ¥åœ¨å¾®è½¯å•†åº—ä¸‹è½½å³å¯ï¼Œä½†æ˜¯ä¸‹è½½å®Œæˆé»˜è®¤æ˜¯åœ¨Cç›˜çš„ï¼Œå¾ˆå¤šäººå› æ­¤å¯¹æ­¤æœ‰äº›æ‹…å¿§ï¼Œå› ä¸ºå ç”¨Cç›˜ã€‚

### å®‰è£…WSL

å®‰è£…æ­¥éª¤çœç•¥ç›´æ¥è·³åˆ°å¦‚ä½•å°†WSLå®‰è£…åˆ°å…¶ä»–ç›˜ã€‚

```bash
# æŸ¥çœ‹å½“å‰WSLåŒ…å«çš„è™šæ‹Ÿæœº
wsl -l -v

# åœæ­¢æ‰€æœ‰çš„è™šæ‹Ÿæœº
wsl --shutdown

# å¯¼å‡ºæŒ‡å®šçš„è™šæ‹Ÿæœºï¼Œå› ä¸ºè¦ç§»åŠ¨
wsl --export Ubuntu-24.04 E:\WSL\ubuntu.tar

# å¯¼å…¥åˆ°æ–°çš„ä½ç½®
wsl --import Ubuntu-24.04 E:\WSL\ubuntu E:\WSL\ubuntu.tar --version 2

# åˆ é™¤ä¹‹å‰çš„è™šæ‹Ÿæœºï¼ˆæ³¨æ„ï¼šå‘½ä»¤åº”ä¸º --unregisterï¼‰
wsl --unregister Ubuntu-24.04
```

### å®‰è£…`Ollama`

å®˜ç½‘ï¼šhttps://ollama.com/download/linux

ä»¥Linuxä¸ºä¾‹ï¼Œåœ¨`WSL`ä¸­è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œæ‰§è¡Œå®Œæˆåå³å¯ã€‚

```sh
curl -fsSL https://ollama.com/install.sh | sh
```

å®‰è£…å®Œæˆå¯ä»¥è®¿é—®ï¼š`http://localhost:11434/`æ˜¾ç¤º

```bash
Ollama is running
```

### å¸¸ç”¨Ollamaå‘½ä»¤è¡Œ

å®‰è£…å®Œæˆåï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å¸¸ç”¨å‘½ä»¤ç®¡ç†æ¨¡å‹ï¼š

```bash
# æŸ¥çœ‹å·²å®‰è£…çš„æ¨¡å‹
ollama list

# æ‹‰å–æ¨¡å‹ï¼ˆä¸è¿è¡Œï¼‰
ollama pull deepseek-coder

# è¿è¡Œæ¨¡å‹
ollama run deepseek-coder

# åˆ é™¤æ¨¡å‹
ollama rm deepseek-coder

# æŸ¥çœ‹æ¨¡å‹ä¿¡æ¯
ollama show deepseek-coder

# å¤åˆ¶æ¨¡å‹ï¼ˆåˆ›å»ºæ–°åç§°ï¼‰
ollama cp deepseek-coder deepseek-coder-backup

# å¯åŠ¨OllamaæœåŠ¡
ollama serve
```

### å®‰è£…DeepSeek

æ‰§è¡Œçš„å‘½ä»¤å’Œdockerååˆ†çš„ç›¸ä¼¼ï¼Œåªè¦å°†dockeræ¢æˆollamaå‡ ä¹æ˜¯ä¸€æ ·çš„ã€‚

åœ¨å®˜ç½‘ä¸­æœç´¢ä½ æƒ³è¦çš„æ¨¡å‹ï¼Œæ¯”å¦‚`DeepSeek`ï¼Œä¹‹åæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å³å¯ã€‚

```bash
# æ‹‰å–å¹¶è¿è¡ŒDeepSeekæ¨¡å‹ï¼ˆæ¨èå…ˆpullå†runï¼‰
ollama pull deepseek-r1
ollama run deepseek-r1
```

ä¹‹åä¼šå‡ºç°äº¤äº’å¼å‘½ä»¤è¡Œï¼Œè¾“å…¥é—®é¢˜è¿›è¡Œæµ‹è¯•å³å¯ã€‚

### æ³¨æ„äº‹é¡¹

1. é¦–æ¬¡è¿è¡Œæ¨¡å‹æ—¶ä¼šè‡ªåŠ¨ä¸‹è½½ï¼Œéœ€è¦è¾ƒé•¿æ—¶é—´ï¼Œè¯·ä¿æŒç½‘ç»œç¨³å®š
2. æ¨¡å‹æ–‡ä»¶é€šå¸¸è¾ƒå¤§ï¼Œç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´ï¼ˆå‡ ä¸ªGBåˆ°å‡ åGBä¸ç­‰ï¼‰
3. å¦‚éœ€ä½¿ç”¨GPUåŠ é€Ÿï¼Œç¡®ä¿ç³»ç»Ÿå·²å®‰è£…ç›¸åº”çš„GPUé©±åŠ¨
4. å¯ä»¥é€šè¿‡`ollama help`æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤

### éªŒè¯å®‰è£…

å®‰è£…å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼éªŒè¯ï¼š

```bash
# æ£€æŸ¥OllamaæœåŠ¡çŠ¶æ€
systemctl status ollama

# æˆ–è€…ç›´æ¥è®¿é—®API
curl http://localhost:11434/api/tags
```

## å®‰è£…Pythonå’Œpip

> [!TIP]
>
> éœ€è¦é…ç½®å›½å†…é•œåƒï¼šhttps://www.runoob.com/w3cnote/pip-cn-mirror.html

### æ£€æŸ¥Pythonæ˜¯å¦å·²å®‰è£…

```bash
python3 --version
```

### å®‰è£…è„šæœ¬

ç¼–å†™è„šæœ¬å¹¶å°†ä¸‹é¢`install_ai.sh`å¤åˆ¶

```bash
# ç¼–å†™è„šæœ¬
vim install_ai.sh
```

åˆ›å»ºä¸€ä¸ªå®‰è£…è„šæœ¬ `install_ai.sh`ï¼š

```bash
#!/bin/bash

echo "å¼€å§‹å®‰è£…AIç¯å¢ƒ..."

# æ›´æ–°ç³»ç»Ÿ
sudo apt update

# å®‰è£…å¿…è¦çš„ç³»ç»ŸåŒ…
sudo apt install python3 python3-pip python3-venv -y

# åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir -p ~/my_ai_assistant
cd ~/my_ai_assistant

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆé¿å…ç³»ç»Ÿæ±¡æŸ“ï¼‰
python3 -m venv ai_env

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source ai_env/bin/activate

# å‡çº§pip
pip install --upgrade pip

# å®‰è£…AIåŒ…ï¼ˆç°åœ¨åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ï¼‰
pip install langchain chromadb sentence-transformers ollama pypdf2 python-docx

# åˆ›å»ºé¡¹ç›®ç»“æ„
mkdir -p knowledge_base vector_db scripts

echo "âœ… å®‰è£…å®Œæˆï¼"
echo "ğŸ“ é¡¹ç›®ç›®å½•: ~/my_ai_assistant"
echo "ğŸš€ æ¯æ¬¡ä½¿ç”¨å‰è¿è¡Œ: cd ~/my_ai_assistant && source ai_env/bin/activate"
echo "ğŸ”š ä½¿ç”¨åè¿è¡Œ: deactivate"
```

ç»™è„šæœ¬æ‰§è¡Œæƒé™å¹¶è¿è¡Œï¼š

```bash
chmod +x install_ai.sh
./install_ai.sh
```

### è™šæ‹Ÿç¯å¢ƒä½¿ç”¨

#### æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ

```bash
cd ~/my_ai_assistant
source ai_env/bin/activate
# å‘½ä»¤è¡Œå‰ä¼šå‡ºç° (ai_env) æç¤º
```

#### æ—¥å¸¸ä½¿ç”¨æµç¨‹

```bash
# 1. æ¿€æ´»ç¯å¢ƒ
cd ~/my_ai_assistant && source ai_env/bin/activate

# 2. è¿è¡ŒPythonè„šæœ¬
python your_script.py

# 3. é€€å‡ºç¯å¢ƒ
deactivate
```

#### éªŒè¯å®‰è£…

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒåæµ‹è¯•
cd ~/my_ai_assistant
source ai_env/bin/activate

# æµ‹è¯•å®‰è£…
python -c "
try:
    import langchain, chromadb, sentence_transformers, ollama
    print('âœ… æ‰€æœ‰åŒ…å®‰è£…æˆåŠŸï¼')
    print('ğŸ Pythonè·¯å¾„:', __import__('sys').executable)
except ImportError as e:
    print('âŒ é”™è¯¯:', e)
"
```

#### **å¸¸è§é—®é¢˜è§£å†³**

**é”™è¯¯ï¼šexternally-managed-environment**

**åŸå› **ï¼šUbuntu 24.04ç¦æ­¢ç›´æ¥å®‰è£…PythonåŒ…åˆ°ç³»ç»Ÿ
**è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ

**é”™è¯¯ï¼šCommand 'pip' not found**

**è§£å†³æ–¹æ¡ˆ**ï¼š

```bash
sudo apt install python3-pip
alias pip='pip3'  # ä¸´æ—¶ç”Ÿæ•ˆ
```

**æ£€æŸ¥è™šæ‹Ÿç¯å¢ƒæ˜¯å¦æ¿€æ´»**

```bash
# æ­£ç¡®æƒ…å†µï¼šæ˜¾ç¤ºè™šæ‹Ÿç¯å¢ƒè·¯å¾„
which python
which pip

# é”™è¯¯æƒ…å†µï¼šæ˜¾ç¤ºç³»ç»Ÿè·¯å¾„
/usr/bin/python
```
